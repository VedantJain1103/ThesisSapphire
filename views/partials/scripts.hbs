<script src="https://cdn.jsdelivr.net/npm/halfmoon@1.1.1/js/halfmoon.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Halfmoon/1.1.1/js/halfmoon.min.js"
    integrity="sha512-8fN/MQrHBCMmkx2t4QwGODGHwQf8VxCeNwNkJz0gjt5JrlUfJ5zNlMr9lrzhnl7DSN+5E16YmMHnfomnQmvSoA=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Halfmoon/1.1.1/js/halfmoon.js"
    integrity="sha512-fdxvGwYbXWW/ToubkwIzeGIDiwzn6RYDjNp5Yq2OKPzgULKfOLR+xEp5vbn6GESZJXVbMyFE2++K6URwAJxE8A=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Halfmoon/1.1.1/js/halfmoon-module.min.js"
    integrity="sha512-R9YFPyALkNeKCvWDzPp62Gcxy5NEAsfv41pBOcTc45xB/dp7+ODuiz4atmKwoqzJ2anX70UFdbTIUH9LHyfAqA=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Halfmoon/1.1.1/js/halfmoon-module.js"
    integrity="sha512-FdbZYURTXNYmyQyMORpajPwOuzNh1/OvX6+owPJWcLHRoFrZ6LPwCReJlCJo8l1qKc+O1DNITTYm1JlSg5B5Kw=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>

{{!-- Dark Mode --}}
<script type="text/javascript">
    /* Things to do once the DOM is loaded */
    document.addEventListener("DOMContentLoaded", function () {
        // Getting the demo iFrames
        var demoiFrames = document.getElementsByClassName("demo-iframe");

        // Overridden method to also toggle the dark mode in the iFrames
        halfmoon.toggleDarkMode = function () {
            if (document.body.classList.contains("dark-mode")) {
                document.body.classList.remove("dark-mode");
                halfmoon.darkModeOn = false;
                // Turn off dark mode within the iFrames
                for (var i = 0; i < demoiFrames.length; i++) {
                    var innerDocument = demoiFrames[i].contentDocument || demoiFrames[i].contentWindow.document;
                    innerDocument.body.classList.remove("dark-mode");
                }
                halfmoon.createCookie("halfmoon_preferredMode", "light-mode", 365);
            } else {
                document.body.classList.add("dark-mode");
                halfmoon.darkModeOn = true;
                // Turn on dark mode within the iFrames
                for (var i = 0; i < demoiFrames.length; i++) {
                    var innerDocument = demoiFrames[i].contentDocument || demoiFrames[i].contentWindow.document;
                    innerDocument.body.classList.add("dark-mode");
                }
                halfmoon.createCookie("halfmoon_preferredMode", "dark-mode", 365);
            }
        }
    });

    // Here, the Child refers to an iFrame window
    function toggleDarkModeFromChild() {
        halfmoon.toggleDarkMode();
    }
</script>